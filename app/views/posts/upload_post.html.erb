<!-- app/views/posts/new.html.erb -->
<div class="container px-md-5 my-5">
  <h1 class="display-5 fw-bolder text-center">Upload Post</h1>
  <div class="card col-md-6 mx-auto">
    <div class="card-body">
      <%= form_with(model: @post, url: create_upload_post_path, method: :post, multipart: true, data: {turbo: false}) do |form| %>
        <% if @post.errors.any? %>
          <div class="container">
            <% @post.errors.full_messages.each do |error_message| %>
              <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <%= error_message %>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            <% end %>
          </div>
        <% end %>
        <%= form.hidden_field :user_id, value: current_user.id %>
        <div class="mb-3">
          <h4 class="text-center"><%= t('buttons.escolher_upload') %></h4>
          <%= form.file_field :posts, class: "d-none", id: "posts_input", multiple: true %>
          <%= button_tag t('buttons.escolher_upload'), type: 'button', class: "w-100 btn btn-outline-primary mb-1", onclick: "document.getElementById('posts_input').click();" %>
          <%= form.submit "Upload", class: "btn btn-outline-success mt-2" %>
          <%= link_to "Home", home_index_path, class: "btn btn-outline-dark mt-2" %>
        </div>
      <% end %>
    </div>
  </div>
</div>

<script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta2/js/bootstrap-select.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
